
<div [ngSwitch]="dynamicSchema.type" [formGroup]="dynamicForm" [class.indent]="dynamicSchema.indent">
  <ng-container *ngSwitchCase="'dict'">
    <div *ngIf="!isHide && !dynamicSchema.hidden">{{dynamicSchema.title}}</div>
    <ix-dynamic-form-item
      *ngFor="let attr of dynamicSchema.attrs"
      [dynamicSchema]="attr"
      [dynamicForm]="getFormGroup"
      (addListItem)="addControlNext($event)"
      (deleteListItem)="removeControlNext($event)"
      [fxHide]="isHide || dynamicSchema.hidden"
      [class.disabled]="dynamicSchema.editable === false"
    ></ix-dynamic-form-item>
  </ng-container>
  <ng-container *ngSwitchCase="'list'">
    <ix-list
      [label]="dynamicSchema.title | translate" 
      [empty]="getFormArray.controls.length === 0"
      [formArrayName]="dynamicSchema.controlName"
      (add)="addControl()"
      [fxHide]="isHide || dynamicSchema.hidden"
      [class.disabled]="dynamicSchema.editable === false"
    >
      <ix-list-item
        *ngFor="let element of getFormArray.controls; let i = index"
        (delete)="removeControl(i)"
      >
        <ix-dynamic-form-item
          *ngFor="let item of dynamicSchema.items"
          [dynamicSchema]="item"
          [dynamicForm]="getFormItem(element)"
          (addListItem)="addControlNext($event)"
          (deleteListItem)="removeControlNext($event)"
        ></ix-dynamic-form-item>
      </ix-list-item>
    </ix-list>
  </ng-container>
  <ix-input
    *ngSwitchCase="'input'"
    [formControlName]="dynamicSchema.controlName"
    [label]="dynamicSchema.title | translate"
    [placeholder]="dynamicSchema.placeholder | translate"
    [tooltip]="dynamicSchema.tooltip | translate"
    [required]="dynamicSchema.required"
    [fxHide]="isHide || dynamicSchema.hidden"
    [class.disabled]="dynamicSchema.editable === false"
    [type]="dynamicSchema.private === true ? 'password' : undefined"
  ></ix-input>
  <ix-select
    *ngSwitchCase="'select'"
    [formControlName]="dynamicSchema.controlName"
    [label]="dynamicSchema.title | translate"
    [options]="dynamicSchema.options"
    [tooltip]="dynamicSchema.tooltip | translate"
    [required]="dynamicSchema.required"
    [fxHide]="isHide || dynamicSchema.hidden"
    [class.disabled]="dynamicSchema.editable === false"
  ></ix-select>
  <ix-explorer
    *ngSwitchCase="'explorer'"
    [formControlName]="dynamicSchema.controlName"
    [label]="dynamicSchema.title | translate"
    [tooltip]="dynamicSchema.tooltip | translate"
    [required]="dynamicSchema.required"
    [nodeProvider]="dynamicSchema.nodeProvider"
    [fxHide]="isHide || dynamicSchema.hidden"
    [class.disabled]="dynamicSchema.editable === false"
  ></ix-explorer>
  <ix-checkbox
    *ngSwitchCase="'checkbox'"
    [formControlName]="dynamicSchema.controlName"
    [label]="dynamicSchema.title | translate"
    [tooltip]="dynamicSchema.tooltip | translate"
    [required]="dynamicSchema.required"
    [fxHide]="isHide || dynamicSchema.hidden"
    [class.disabled]="dynamicSchema.editable === false"
  ></ix-checkbox>
</div>
